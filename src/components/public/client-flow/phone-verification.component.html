<!-- Phone Verification Component Template -->

<div class="phone-verification-container">
  <!-- Header Section -->
  <div class="step-header">
    <div class="step-icon">
      <span class="icon">{{ getPhoneIcon() }}</span>
    </div>
    <h2 class="step-title">{{ flowService.getStepTitle('phone') }}</h2>
    <p class="step-description">{{ flowService.getStepDescription('phone') }}</p>
  </div>

  <!-- Main Content -->
  <div class="space-y-4 animate-fade-in">
    <div class="bg-white rounded-2xl shadow-lg p-6">
      <div class="flex items-center gap-3 mb-4">
        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
          <span class="text-2xl">üì±</span>
        </div>
        <div>
          <h3 class="text-lg font-bold text-gray-900">Tel√©fono</h3>
          <p class="text-sm text-gray-600">Ingresa tu n√∫mero celular</p>
        </div>
      </div>

      <div class="space-y-2">
        <label for="phoneInput" class="block text-sm font-medium text-gray-700">
          N√∫mero de tel√©fono *
        </label>
        <input
          id="phoneInput"
          type="tel"
          class="w-full px-4 py-4 text-lg border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 outline-none transition-all"
          placeholder="3123456789"
          [value]="phoneInput()"
          (input)="onPhoneInput($event)"
          (keypress)="onKeyPress($event)"
          [disabled]="isValidating()"
          maxlength="10"
          autocomplete="tel"
          required>
        @if (phoneInput()) {
          <p class="text-sm text-gray-600">
            Formato: {{ formatPhoneForDisplay(phoneInput()) }}
          </p>
        }
      </div>

      @if (isPhoneValid()) {
        <div class="mt-4 p-3 bg-green-50 border border-green-200 rounded-xl flex items-center gap-2">
          <span class="text-green-600">‚úÖ</span>
          <span class="text-sm text-green-800">Tel√©fono v√°lido</span>
        </div>
      }
    </div>
  </div>

  <!-- Progress Indicator -->
  <div class="progress-section">
    <div class="progress-bar">
      <div
        class="progress-fill"
        [style.width.%]="flowState().progress">
      </div>
    </div>
    <div class="progress-text">
      Paso 1 de 4 - {{ flowState().progress }}% completado
    </div>
  </div>
</div>